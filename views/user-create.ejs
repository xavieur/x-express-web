<%- include("./partials/header.ejs") %>

<main>
  <section>
    <div class="between"><span class="h2">New user</span><a href="/user-login/">Log in</a></div>
    <form id="user-form-create" action="/api/users" method="POST">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" required>
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required>
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" required>
      <label for="age">Age:</label>
      <input type="number" id="age" name="age">
      <button>Create User</button>
    </form>
  </section>
</main>

<script>
  const createForm = document.querySelector('#user-form-create')
  createForm.addEventListener('submit', async(e) => {
      e.preventDefault()
      try {
        const resultado = await axios.post('/api/users', { data:
          {name: e.target.elements.name.value,
          email: e.target.elements.email.value,
          password: e.target.elements.password.value,
          age: e.target.elements.age.value}
        })
      } catch (error) {
        console.log(error)
      }
  })
</script>

<%- include("./partials/footer.ejs") %>